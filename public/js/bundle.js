"use strict";function windOfChange(e){var t=document.querySelectorAll(".tester");"inc"===e&&function(e,t){e.forEach(function(e){var o=parseFloat(e.style.animationDuration);o||(o=t),console.log("x = ",e.offsetLeft),o>=3&&(console.log(o),e.style.animationDuration="30s")})}(t,100)}!function(){function e(e){r=t(),r.classList.add("modal-window_visible"),document.body.classList.add("modal-enabled"),c=r.querySelector("[data-type=modal-loader]"),c.classList.add("modal-window__load-indicator_visible"),setTimeout(function(){r.classList.add("modal-window__overlay")},1),l=r.querySelector("[data-type=modal-container]");var d=this.getAttribute("href"),i=this.getAttribute("data-modal");switch(s=r.querySelector("[data-type=modal-hider]"),i){case"inline":var m=void 0,u=document.querySelector(d);u?m=u.innerHTML:(m="Error",console.error("Can't find inline-block")),o(m);break;case"image":var v=document.createElement("div");v.style.display="none";var w=document.createElement("img");w.setAttribute("src",d),w.classList.add("modal-window__image"),document.body.appendChild(v),v.appendChild(w),w.onload=function(){o(w.outerHTML),document.body.removeChild(v)};break;case"monitor":r.classList.add("modal-window_monitor");var p=document.createElement("div");p.style.display="none";var y=document.createElement("img");y.setAttribute("src",d),y.classList.add("modal-window_screen"),document.body.appendChild(p),p.appendChild(y),y.onload=function(){o(y.outerHTML),document.body.removeChild(p)};break;case"mobile":r.classList.add("modal-window_mobile");var _=document.createElement("div");_.style.display="none";var L=document.createElement("img");L.setAttribute("src",d),L.classList.add("modal-window_screen"),document.body.appendChild(_),_.appendChild(L),L.onload=function(){o(L.outerHTML),document.body.removeChild(_)};break;case"ajax":var b=new XMLHttpRequest;b.open("GET",d,!0),b.send(),b.onreadystatechange=function(){if(4===b.readyState)if(200!==b.status)console.error("[Modal] Content loading error"+b.status+": "+b.statusText);else{var e=document.getElementById("forXHR");e.innerHTML=b.responseText,o(b.responseText)}};break;default:var f=document.createElement("div");f.innerHTML="Error",f.className="modal-window__error",content=f,console.log("Wrong content type in data-modal-type")}addEventListener("keydown",function(e){return a(e)}),r.addEventListener("click",function(e){return n(e)}),e.preventDefault()}function t(){var e=void 0;if(document.querySelector("[data-type=modal-window]"))e=document.querySelector("[data-type=modal-window]");else{var t=document.createElement("div");t.classList.add("modal-window"),t.setAttribute("data-type","modal-window");var o=document.createElement("div");o.setAttribute("data-type","modal-hider"),o.style.display="none";var d=document.createElement("div");d.classList.add("modal-window__load-indicator"),d.setAttribute("data-type","modal-loader");var a=document.createElement("div");a.classList.add("modal-window__container"),a.setAttribute("data-type","modal-container");var n=document.createElement("div");n.classList.add("modal-window__close"),n.setAttribute("data-type","modal-close-button"),n.innerHTML="&#10761;";var i=document.createElement("div");i.classList.add("modal-window__content"),i.setAttribute("data-type","modal-content"),a.appendChild(n),a.appendChild(i),a.appendChild(i),t.appendChild(d),t.appendChild(a),t.appendChild(o),document.body.appendChild(t),e=t}return e}function o(e){l=r.querySelector("[data-type=modal-container]"),i=l.querySelector("[data-type=modal-content]"),i.innerHTML=e,c.classList.remove("modal-window__load-indicator_visible"),l.classList.add("modal-window__container_visible"),i.offsetHeight+25>window.innerHeight&&r.classList.add("modal-window_scroll"),setTimeout(function(){l.classList.add("modal-window__container_scale")},1),l.querySelector("[data-type=modal-close-button]").addEventListener("click",d)}function d(){l.classList.remove("modal-window__container_scale"),r.classList.remove("modal-window__overlay"),s.innerHTML="",setTimeout(function(){r.classList.remove("modal-window_visible"),r.classList.remove("modal-window_monitor"),r.classList.remove("modal-window_mobile"),r.classList.remove("modal-window_scroll"),l.classList.remove("modal-window__container_visible")},100),document.body.classList.remove("modal-enabled")}function a(e){"27"==e.keyCode&&d()}function n(e){for(var t=e.target,o=!0;t!==r;){if(t===l)return void(o=!1);t=t.parentNode}o&&d()}var i=void 0,l=void 0,r=void 0,s=void 0,c=void 0,m=void 0;m=document.querySelectorAll("[data-modal]");for(var u=0;u<m.length;u++)m[u].addEventListener("click",function(t){e.call(this,t)})}();